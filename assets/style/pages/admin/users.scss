.users {
  position: relative;
  width: 80%;
  margin-left: auto;

  @media (max-width: 1000px) {
    width: 100%;
    margin: auto;
  }

  &__header {
    @media (max-width: 768px) {
      padding-bottom: 23px;
    }
  }

  &__title {
    font-size: 2.7vw;
    font-weight: 700;
    color: #484848;

    @media (max-width: 768px) {
      font-size: 24px;
    }
  }

  &__category {
    position: absolute;
    top: 1.25vw;
    right: 100%;
    display: flex;
    flex-direction: column;
    gap: 1vw 7px;
    width: 15vw;
    font-size: 0.85vw;
    font-weight: 700;
    transition:
      opacity 0.3s,
      opacity 0.3s,
      transform 0.3s;
    transform: translateX(0);

    @media (max-width: 1000px) {
      display: none;
    }

    &-mobile {
      display: none;
      margin-bottom: 20px;

      @media (max-width: 1000px) {
        display: block;
      }

      &-info {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
      }

      &-item {
        width: 50%;
        padding: 9px 14px 8px;
        cursor: pointer;
        background: #fff;
        border-radius: 13px;
        box-shadow: 0 1px 12px -5.6px rgb(159 200 223 / 58%);

        @media (max-width: 500px) {
          max-width: 114px;
        }

        &-link {
          display: flex;
          flex-direction: column;
          align-items: center;
          font-size: 16px;
          font-weight: 400;
          color: #000;

          svg {
            width: 25px;
            height: 25px;
          }

          @media (max-width: 500px) {
            font-size: 10px;
          }
        }

        &-amount {
          font-size: 16px;
          font-weight: 700;
          color: #484848;
        }
      }

      &-search {
        display: none;
        margin-bottom: 20px;

        &--active {
          display: block;
        }
      }

      &-form {
        display: flex;

        &::-webkit-scrollbar {
          display: none;
        }

        &-item {
          display: flex;
          flex-direction: column;
          gap: 5px;
          width: 171px !important;
          padding: 13px 20px 19px;
          background: #fff;
          border-radius: 16px;
          box-shadow: 0 2px 26px -12px rgb(159 200 223 / 58%);

          &-label {
            font-size: 14px;
            font-weight: 700;
            color: #070f25;
          }

          &-input {
            padding: 8px 12px;
            background: #f6f6f6;
            border-radius: 5px;

            &::placeholder {
              font-size: 14px;
              font-weight: 400;
              color: #c1c1c1;
            }
          }

          &-box {
            display: flex;
            gap: 8px;
          }
        }
      }
    }
  }

  &__search {
    display: flex;
    gap: 0 0.52vw;
    padding: 0.88vw 0.78vw 0.88vw 2.6vw;
    line-height: normal;
    color: #c6c6c6;
    cursor: pointer;
    border-radius: 0.78vw 0 0 0.78vw;
    transition: all 0.3s;

    svg {
      width: 2.7em;
      height: 2.7em;
    }
  }

  &__search-text {
    font-weight: 700;

    span {
      display: block;
      font-weight: 700;
      white-space: nowrap;
    }
  }

  &__pagination.thePagination {
    display: flex;
    gap: 0.52vw;
    justify-content: center;
    margin: 0 auto;

    .thePagination-button {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.85vw;
      height: 2.85vw;
      font-size: 0.88vw;
      cursor: pointer;
      border-radius: 50%;

      &--active {
        box-shadow: 0 0 17.599px -4.39px #eee;
      }
    }

    @media screen and (max-width: 1000px) {
      gap: 10px;

      .thePagination-button {
        width: 55px;
        height: 55px;
        font-size: 17px;
      }
    }

    @media screen and (max-width: 576px) {
      gap: 5px;

      .thePagination-button {
        width: 35px;
        height: 35px;
        font-size: 14px;
      }
    }
  }

  &__item {
    display: block;
    padding: 1.2vw 0.78vw 1.8vw 2.6vw;
    font-weight: 700;
    background: #fff;
    border-radius: 0.78vw 0 0 0.78vw;
    box-shadow: -1.3vw 0.02vw 1.5vw -0.75vw #8fb6e240;

    &-label {
      font-size: 0.72vw;
      font-weight: 700;
      color: #c1c1c1;
    }

    &-input {
      padding: 0.46vw 0.57vw;
      background: #f6f6f6;
      border: 1px solid #c1c1c1;
      border-radius: 5px;

      &::placeholder {
        font-size: 0.72vw;
        font-weight: 400;
        color: #c1c1c1;
      }
    }

    &-box {
      display: flex;
      gap: 0.83vw;
    }

    &-checkboxes {
      display: flex;
      flex-direction: column;
      gap: 0.52vw;
    }
  }

  &__amount {
    font-size: 2.5vw;
    font-weight: 700;

    .users-categories__item--successful & {
      color: #73c17b;
    }
  }

  &__filter {
    position: absolute;
    top: 3.25vw;
    right: 100%;
    width: 15.2vw;
    padding: 29px 32px 47px;
    padding: 1.5vw 1.6vw 2.44vw;
    visibility: hidden;
    background: #fff;
    border-radius: 15px 0 0 15px;
    box-shadow: -25px 0.5px 28.5px -14px rgb(143 182 226 / 25%);
    opacity: 0;
    transition:
      opacity 0.3s,
      visibility 0.3s,
      transform 0.3s;
    transform: translateX(100%);

    @media (max-width: 1000px) {
      display: none;
    }

    &-heading {
      display: flex;
      gap: 0.83vw;
      align-items: center;
      margin-bottom: 21px;
    }

    &-title {
      font-size: 1.25vw;
      font-weight: 700;
      color: #484848;
    }

    &-button {
      width: 1.3vw;
      cursor: pointer;

      img {
        width: 100%;
      }
    }
  }

  &__filter--active {
    visibility: visible;
    opacity: 1;
    transform: translateX(0);
  }

  &__form {
    display: flex;
    flex-direction: column;
    gap: 1.2em;

    &-item {
      display: flex;
      flex-direction: column;
      gap: 0.5em;
    }
  }
}

.users-button {
  margin: 0;
  font-weight: 500;
  color: #7c7c7c;
  cursor: pointer;

  &__default {
    position: absolute;
    width: 1px;
    height: 1px;
    overflow: hidden;
    clip: rect(0 0 0 0);

    &:checked + .users-button__body {
      .users-button__custom {
        &::after {
          left: calc(100% - 1.5em + 1px);
          background: #8ac554;
        }
      }
    }
  }

  &__body {
    display: flex;
    gap: 0.8em;
    align-items: center;
  }

  &__custom {
    position: relative;
    flex-shrink: 0;
    width: 2.5em;
    height: 1.5em;
    border: 1px solid #7c7c7c;
    border-radius: 50px;

    &::after {
      position: absolute;
      top: -1px;
      left: -1px;
      display: block;
      width: 1.5em;
      height: 1.5em;
      content: '';
      background: #eee;
      border: 1px solid #7c7c7c;
      border-radius: 50px;
      transition: all 0.3s;
    }
  }
}

.checkbox-active,
.checkbox-disabled,
.checkbox-blocked {
  position: relative;
  width: 1.2em;
  height: 1.2em;
  cursor: pointer;
  background-color: #ebebeb;
  border-radius: 3px;
}

.checkbox-active::before {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0.6em;
  height: 0.6em;
  content: '';
  background-color: #c4db9d;
  transform: translate(-50%, -50%);
}

.checkbox-disabled::before {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0.6em;
  height: 0.6em;
  content: '';
  background-color: #bebfba;
  transform: translate(-50%, -50%);
}

.checkbox-blocked::before {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0.6em;
  height: 0.6em;
  content: '';
  background-color: #bebfba;
  transform: translate(-50%, -50%);
}

.checkbox-active input[type='checkbox'],
.checkbox-disabled input[type='checkbox'],
.checkbox-blocked input[type='checkbox'] {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
}

.checkbox:has(input[type='checkbox']:not(:checked))::before {
  display: none;
}

.checkbox-title {
  padding-left: 2em;
  font-size: 0.8em;
  font-weight: 400;
}

.checkbox-title--active {
  color: #c1c1c1;
}

.checkbox-title--disabled {
  color: #f9c258;
}

.checkbox-title--blocked {
  color: #f18f8f;
}

.show {
  visibility: visible;
  opacity: 1;
  transform: translateX(0);
}

.hide {
  visibility: hidden;
  opacity: 0;
  transform: translateX(100%);
}

.users-category {
  transition:
    opacity 0.3s,
    visibility 0.3s,
    transform 0.3s;
}

.users-modal {
  position: fixed;
  inset: 0;
  z-index: 15;
  padding: 0 0.25rem;
  overflow: hidden auto;
  text-align: center;
  cursor: pointer;
  visibility: hidden;
  background: rgb(74 90 104 / 33%);
  backdrop-filter: blur(5.77px);
  opacity: 0;
  transition:
    opacity 0.3s,
    visibility 0.3s;

  &-container {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    max-width: 52vw;
    font-size: 0.83vw;
    color: #484848;
    visibility: visible;
    background-color: #fff;
    opacity: 1;
    transition:
      opacity var(--transition-time),
      visibility var(--transition-time),
      transform var(--transition-time);
    transform: translateX(100%);

    @media (max-width: 768px) {
      max-width: 768px;
    }
  }

  &__body {
    height: 100%;
    margin-right: 1vw;
    overflow: hidden auto;
    cursor: default;

    &::-webkit-scrollbar {
      width: 1vw;
    }

    &::-webkit-scrollbar-track {
      margin: 1.7vw 0 1.4vw;
      background: #f5f8fb;
      border-radius: 8px;
      box-shadow: 0 0.1vw 0.52vw -5px #9fc8df94;
    }

    &::-webkit-scrollbar-thumb {
      background: #282828;
      border: 0.15vw solid #fff;
      border-radius: 18px;
    }
  }

  &__date {
    display: flex;
    gap: 10px;
    align-items: center;

    &-text {
      font-size: 0.94vw;
      font-weight: 400;
      color: #000;

      @media (max-width: 768px) {
        font-size: 13px;
      }
    }

    &-registration {
      font-size: 0.94vw;
      font-weight: 700;
      color: #484848;

      @media (max-width: 768px) {
        font-size: 13px;
      }
    }

    &--skeleton {
      width: 100%;
      max-width: 17.45vw;
      height: 1.3vw;
      border-radius: 0.41vw;

      @media (max-width: 768px) {
        max-width: 50%;
        height: 15px;
        border-radius: 8px;
      }
    }
  }

  &__title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.6em;
    font-size: 1.87vw;
    font-weight: 700;

    @media (max-width: 768px) {
      margin-bottom: 34;
      font-size: 24px;
    }
  }

  &__button-close {
    display: flex;
    align-items: center;
  }

  &__row {
    display: flex;
    gap: 15px;
    align-items: center;
    justify-content: space-between;
    padding-bottom: 1vw;
    margin-bottom: 1.45vw;
    font-size: 0.94vw;
    font-weight: 700;

    @media (max-width: 768px) {
      font-size: 13px;
      border-bottom: 1px solid #bdc4cb;
    }
  }

  &__status {
    &--success {
      color: #73c17b;
    }

    &--disabled {
      color: #f5a5a9;
    }

    &--err {
      color: #f9c258;
    }

    &--skeleton {
      width: 6.8vw;
      height: 1.3vw;
      border-radius: 0.41vw;

      @media screen and (max-width: 768px) {
        width: 20%;
        height: 15px;
        border-radius: 8px;
      }
    }
  }

  &__main {
    display: flex;
    gap: 33px 0.78vw;
    align-items: flex-start;
    justify-content: space-between;

    @media (max-width: 768px) {
      flex-direction: column-reverse;
    }
  }

  &__info {
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 0.52vw;
    width: 100%;
    max-width: 18.2vw;
    line-height: 0.7vw;
    text-align: left;

    &-value {
      font-weight: 700;
    }

    &-category--skeleton,
    &-value--skeleton {
      max-width: 17.4vw;
      height: 1.3vw;
      margin-bottom: 4px;
      border-radius: 0.41vw;
    }

    @media (max-width: 768px) {
      max-width: 100%;
      font-size: 12px;

      &-category--skeleton,
      &-value--skeleton {
        max-width: 100%;
        height: 20px;
        border-radius: 8px;
      }
    }
  }

  &__links {
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: flex-end;
    width: max-content;
    text-wrap: nowrap;

    .m-btn {
      width: 100%;
    }

    @media (max-width: 768px) {
      align-items: center;
      width: 100%;
      padding-top: 20px;
    }
  }

  &__link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 17.4vw;
    height: 2.6vw;
    font-weight: 700;
    color: #fff;
    background: #819bf6;
    border-radius: 0.41vw;
    transition: all 0.3s;

    &--skeleton {
      width: 100%;
      max-width: 17.4vw;
      height: 3.4vw;
      border-radius: 0.41vw;
    }

    @media (any-hover: hover) {
      &:hover {
        color: #fff;
        background: #6b8cff;
      }
    }

    @media (max-width: 768px) {
      max-width: 50%;
      padding: 18px 28px;
      font-size: 12px;
      border-radius: 6px;

      &--skeleton {
        max-width: none;
        height: 45px;
        border-radius: 6px;
      }
    }

    @media (max-width: 400px) {
      max-width: 100%;

      &--skeleton {
        max-width: 100%;
      }
    }

    &--blocked {
      background: #f5a5a9;

      @media (any-hover: hover) {
        &:hover {
          color: #fff;
          background: #f5a5a9;
        }
      }
    }
  }
}

.modal-open-overlay {
  visibility: visible;
  opacity: 1;
  transition:
    opacity 0.3s,
    visibility 0.3s;
}

.modal-open {
  visibility: visible;
  opacity: 1;
  transition:
    opacity 0.3s,
    visibility 0.3s;
  transform: translateX(0);
}

.users-table {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 39.5vw;
  padding: 2.6vw 1.56vw 1vw;
  background: #fff;
  border-radius: 1.4vw;
  box-shadow: 0 0.1vw 1.35vw -0.62vw #9fc8df94;

  .users-table__table {
    border-spacing: 0 0.78vw;
    border-collapse: separate;
  }

  &__table {
    border: none !important;

    tbody {
      filter: drop-shadow(0 0.167vw 1.06vw rgb(0 0 0 / 5%));
      transform: translateZ(0);
    }

    tr {
      &::before {
        content: '';
      }
    }

    tbody tr {
      cursor: pointer;
      transition: transform 0.3s;

      @media (any-hover: hover) {
        &:hover {
          transform: scale(1.01);
        }
      }
    }

    th,
    td {
      padding: 0 !important;
      border: none !important;
    }

    th {
      font-size: 0.83vw;
      font-weight: 700 !important;
      color: #c1c1c1;

      &::before,
      &::after {
        content: none !important;
      }
    }

    td {
      font-size: 0.72vw;

      &:first-child {
        font-weight: 700;
        color: #c1c1c1;
      }

      &:nth-child(2) {
        font-weight: 700;
      }
    }

    tbody tr:last-child th,
    tbody tr:last-child td {
      padding: 0 !important;
    }
  }

  .paging_numbers {
    float: none;
    padding-top: 1.25vw;
    text-align: center;
  }

  .dataTables_paginate .paginate_button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.85vw;
    height: 2.85vw;
    padding: 0;
    margin: 0;
    background: transparent;
    border: none;
    border-radius: 50%;
    transition: all 0.3s;

    &:not(:last-child) {
      margin-right: 0.52vw;
    }

    &:hover {
      color: inherit !important;
      background: transparent;
      border: none;
      box-shadow: 0 0.1vw 1.3vw -4vw #00000040;
    }

    &.current {
      background: transparent;
      border: none;
      box-shadow: 0 0 1.3vw -4vw #00000040;

      &:hover {
        background: transparent;
        border: none;
      }
    }
  }

  &__skeleton {
    width: 100%;
    height: 4.3em;
    margin-bottom: 10px;
    border-radius: 0.41vw;
  }

  &__cell {
    display: flex;
    gap: 0.3em;
    align-items: center;
    justify-content: center;
    height: 4.2em;
    padding: 0 0.35em;
    text-align: center;
    background: #fff;

    td:first-child &,
    th:first-child & {
      border-radius: 0.5em 0 0 0.5em;
    }

    td:last-child &,
    th:last-child & {
      border-radius: 0 0.5em 0.5em 0;
    }

    td:first-child & {
      border-left: 0.5em solid #73c17b;

      .users-table__row--green & {
        border-left-color: #73c17b;
      }

      .users-table__row--red & {
        border-left-color: #f5a5a9;
      }
    }

    td:last-child & {
      .users-table__row--yellow & {
        border-right: 1px solid #f9c258;
      }
    }

    td & {
      .users-table__row--yellow & {
        border-top: 1px solid #f9c258;
        border-bottom: 1px solid #f9c258;
      }
    }

    th &::after {
      flex-shrink: 0;
      width: 0.35em;
      height: 0.8em;
      background: url('/img/user-panel/history/arrow-down.svg') 0 0 / 100%
        no-repeat;
    }

    .sorting_desc &::after {
      content: '';
    }

    .sorting_asc &::after {
      content: '';
      transform: rotate(180deg);
    }

    svg {
      width: 0.83vw;
    }
  }

  &__link {
    display: block;

    path {
      transition: all 0.3s;
    }

    @media (any-hover: hover) {
      &:hover {
        path {
          stroke: #000;
        }
      }
    }
  }
}

@media (max-width: 1000px) {
  .users-modal {
    font-size: 14px;

    &__title {
      margin-bottom: 13px;
      font-size: 24px;
    }

    &__row {
      padding-bottom: 15px;
      margin-bottom: 20px;
      font-size: 16px;
    }

    &__info {
      grid-template-columns: 1fr 1.5fr;
      gap: 4px;
      max-width: none;
    }

    &__link {
      max-width: none;
      height: 36px;
      border-radius: 5.8px;
    }
  }
}

@media (max-width: 1000px) {
  .users-history {
    grid-template: none;
    gap: 15px;
    width: auto;
    margin: 0;

    &__categories,
    &__filtration {
      display: none;
    }

    &__categories-mobile {
      display: block;
    }

    &__filtration-mobile {
      display: none;

      &--show {
        display: block;
      }
    }
  }

  .users-table {
    min-height: auto;
    padding: 5px 13px 25px;
    border-radius: 27.5px;
    box-shadow: 0 2.1936px 26.3664px -12.0773px rgb(159 200 223 / 58%);

    .users-table__table {
      border-spacing: 0 10px;
    }

    &__table {
      tbody {
        filter: drop-shadow(0 2px 10px rgb(0 0 0 / 5%));
      }

      th {
        font-size: 14px;
      }

      td {
        font-size: 14px;
      }

      .users-table &.nowrap td {
        white-space: normal;
      }
    }

    .paging_numbers {
      padding-top: 25px;
    }

    .dataTables_paginate .paginate_button {
      width: 55px;
      height: 55px;

      &:not(:last-child) {
        margin-right: 10px;
      }

      &:hover {
        box-shadow: 0 2px 25px -8px #00000040;
      }

      &.current {
        box-shadow: 0 2px 25px -8px #00000040;
      }
    }

    &__skeleton {
      border-radius: 8px;
    }

    &__cell {
      svg {
        width: 16px;
      }

      @media (max-width: 420px) {
        &:nth-child(3) {
          display: none;
        }
      }
    }
  }
}

@media (max-width: 500px) {
  .users-table {
    &__table {
      th,
      td {
        &:nth-child(3) {
          display: none;
        }
      }
    }
  }
}

@media (max-width: 420px) {
  .users-table {
    &__table {
      th,
      td {
        &:nth-child(4) {
          display: none;
        }
      }
    }
  }
}
