<template>
  <header class="admin-header">
    <div class="container">
      <div class="admin-header__inner">
        <nuxtLink to="/" class="admin-header__logo">
          <NuxtImg :preload="true" src="/img/logo.svg" alt="" />
        </nuxtLink>
      </div>
    </div>
    <div class="admin-menu">
      <div class="mob-menu__account-top">
        <div class="text14 light-text gray-text">Навигация</div>
      </div>
      <ul class="mob-menu__links">
        <li v-for="item of links" :key="item.path">
          <NuxtLink
            :to="item.path"
            class="mob-menu__link"
            :active-class="'_active'"
          >
            <span class="mob-menu__title">{{ item.title }}</span>
            <div
              v-if="
                item?.key === 'messages' &&
                messagesStore?.totalUnseenMessages > 0
              "
              class="mob-menu__num"
            >
              <span>{{ messagesStore?.totalUnseenMessages }}</span>
            </div>
          </NuxtLink>
        </li>
      </ul>

      <div class="mob-menu__account">
        <div class="mob-menu__account-top">
          <div class="text14 light-text gray-text">Аккаунт администратора</div>
        </div>
        <ul class="mob-menu__links">
          <li>
            <nuxtLink
              to="/"
              :active-class="'_active'"
              @click="authStore.logout"
            >
              <a class="mob-menu__link">
                <span class="mob-menu__title">Выйти</span>
              </a>
            </nuxtLink>
          </li>
        </ul>
      </div>
    </div>
  </header>
</template>

<script setup lang="ts">
import { useAuthStore } from '#imports';
const authStore = useAuthStore();
const messagesStore = useMessagesStore();
const user = defineModel<Profile>('user');
const mobMenu = ref(false);
const links = ref([
  {
    path: '/admin/orders',
    title: 'Заказы',
    icon: ` <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.24988 2.55H3.74988C3.08714 2.55 2.54988 3.08726 2.54988 3.75V5.25C2.54988 5.91274 3.08714 6.45 3.74988 6.45H5.24988C5.91262 6.45 6.44988 5.91274 6.44988 5.25V3.75C6.44988 3.08726 5.91262 2.55 5.24988 2.55ZM3.74988 1.5C2.50724 1.5 1.49988 2.50736 1.49988 3.75V5.25C1.49988 6.49264 2.50724 7.5 3.74988 7.5H5.24988C6.49252 7.5 7.49988 6.49264 7.49988 5.25V3.75C7.49988 2.50736 6.49252 1.5 5.24988 1.5H3.74988Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.2499 2.55H12.7499C12.0871 2.55 11.5499 3.08726 11.5499 3.75V5.25C11.5499 5.91274 12.0871 6.45 12.7499 6.45H14.2499C14.9126 6.45 15.4499 5.91274 15.4499 5.25V3.75C15.4499 3.08726 14.9126 2.55 14.2499 2.55ZM12.7499 1.5C11.5072 1.5 10.4999 2.50736 10.4999 3.75V5.25C10.4999 6.49264 11.5072 7.5 12.7499 7.5H14.2499C15.4925 7.5 16.4999 6.49264 16.4999 5.25V3.75C16.4999 2.50736 15.4925 1.5 14.2499 1.5H12.7499Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.24988 11.55H3.74988C3.08714 11.55 2.54988 12.0873 2.54988 12.75V14.25C2.54988 14.9127 3.08714 15.45 3.74988 15.45H5.24988C5.91262 15.45 6.44988 14.9127 6.44988 14.25V12.75C6.44988 12.0873 5.91262 11.55 5.24988 11.55ZM3.74988 10.5C2.50724 10.5 1.49988 11.5074 1.49988 12.75V14.25C1.49988 15.4926 2.50724 16.5 3.74988 16.5H5.24988C6.49252 16.5 7.49988 15.4926 7.49988 14.25V12.75C7.49988 11.5074 6.49252 10.5 5.24988 10.5H3.74988Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.2499 11.55H12.7499C12.0871 11.55 11.5499 12.0873 11.5499 12.75V14.25C11.5499 14.9127 12.0871 15.45 12.7499 15.45H14.2499C14.9126 15.45 15.4499 14.9127 15.4499 14.25V12.75C15.4499 12.0873 14.9126 11.55 14.2499 11.55ZM12.7499 10.5C11.5072 10.5 10.4999 11.5074 10.4999 12.75V14.25C10.4999 15.4926 11.5072 16.5 12.7499 16.5H14.2499C15.4925 16.5 16.4999 15.4926 16.4999 14.25V12.75C16.4999 11.5074 15.4925 10.5 14.2499 10.5H12.7499Z"
                fill="#222222"
              />
            </svg>`,
  },
  {
    path: '/admin/projects',
    title: 'Проекты',
    icon: `<svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.24988 2.55H3.74988C3.08714 2.55 2.54988 3.08726 2.54988 3.75V5.25C2.54988 5.91274 3.08714 6.45 3.74988 6.45H5.24988C5.91262 6.45 6.44988 5.91274 6.44988 5.25V3.75C6.44988 3.08726 5.91262 2.55 5.24988 2.55ZM3.74988 1.5C2.50724 1.5 1.49988 2.50736 1.49988 3.75V5.25C1.49988 6.49264 2.50724 7.5 3.74988 7.5H5.24988C6.49252 7.5 7.49988 6.49264 7.49988 5.25V3.75C7.49988 2.50736 6.49252 1.5 5.24988 1.5H3.74988Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.2499 2.55H12.7499C12.0871 2.55 11.5499 3.08726 11.5499 3.75V5.25C11.5499 5.91274 12.0871 6.45 12.7499 6.45H14.2499C14.9126 6.45 15.4499 5.91274 15.4499 5.25V3.75C15.4499 3.08726 14.9126 2.55 14.2499 2.55ZM12.7499 1.5C11.5072 1.5 10.4999 2.50736 10.4999 3.75V5.25C10.4999 6.49264 11.5072 7.5 12.7499 7.5H14.2499C15.4925 7.5 16.4999 6.49264 16.4999 5.25V3.75C16.4999 2.50736 15.4925 1.5 14.2499 1.5H12.7499Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.24988 11.55H3.74988C3.08714 11.55 2.54988 12.0873 2.54988 12.75V14.25C2.54988 14.9127 3.08714 15.45 3.74988 15.45H5.24988C5.91262 15.45 6.44988 14.9127 6.44988 14.25V12.75C6.44988 12.0873 5.91262 11.55 5.24988 11.55ZM3.74988 10.5C2.50724 10.5 1.49988 11.5074 1.49988 12.75V14.25C1.49988 15.4926 2.50724 16.5 3.74988 16.5H5.24988C6.49252 16.5 7.49988 15.4926 7.49988 14.25V12.75C7.49988 11.5074 6.49252 10.5 5.24988 10.5H3.74988Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.2499 11.55H12.7499C12.0871 11.55 11.5499 12.0873 11.5499 12.75V14.25C11.5499 14.9127 12.0871 15.45 12.7499 15.45H14.2499C14.9126 15.45 15.4499 14.9127 15.4499 14.25V12.75C15.4499 12.0873 14.9126 11.55 14.2499 11.55ZM12.7499 10.5C11.5072 10.5 10.4999 11.5074 10.4999 12.75V14.25C10.4999 15.4926 11.5072 16.5 12.7499 16.5H14.2499C15.4925 16.5 16.4999 15.4926 16.4999 14.25V12.75C16.4999 11.5074 15.4925 10.5 14.2499 10.5H12.7499Z"
                fill="#222222"
              />
            </svg>`,
  },
  {
    path: '/admin/services',
    title: 'Услуги',
    icon: `<svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.24988 2.55H3.74988C3.08714 2.55 2.54988 3.08726 2.54988 3.75V5.25C2.54988 5.91274 3.08714 6.45 3.74988 6.45H5.24988C5.91262 6.45 6.44988 5.91274 6.44988 5.25V3.75C6.44988 3.08726 5.91262 2.55 5.24988 2.55ZM3.74988 1.5C2.50724 1.5 1.49988 2.50736 1.49988 3.75V5.25C1.49988 6.49264 2.50724 7.5 3.74988 7.5H5.24988C6.49252 7.5 7.49988 6.49264 7.49988 5.25V3.75C7.49988 2.50736 6.49252 1.5 5.24988 1.5H3.74988Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.2499 2.55H12.7499C12.0871 2.55 11.5499 3.08726 11.5499 3.75V5.25C11.5499 5.91274 12.0871 6.45 12.7499 6.45H14.2499C14.9126 6.45 15.4499 5.91274 15.4499 5.25V3.75C15.4499 3.08726 14.9126 2.55 14.2499 2.55ZM12.7499 1.5C11.5072 1.5 10.4999 2.50736 10.4999 3.75V5.25C10.4999 6.49264 11.5072 7.5 12.7499 7.5H14.2499C15.4925 7.5 16.4999 6.49264 16.4999 5.25V3.75C16.4999 2.50736 15.4925 1.5 14.2499 1.5H12.7499Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.24988 11.55H3.74988C3.08714 11.55 2.54988 12.0873 2.54988 12.75V14.25C2.54988 14.9127 3.08714 15.45 3.74988 15.45H5.24988C5.91262 15.45 6.44988 14.9127 6.44988 14.25V12.75C6.44988 12.0873 5.91262 11.55 5.24988 11.55ZM3.74988 10.5C2.50724 10.5 1.49988 11.5074 1.49988 12.75V14.25C1.49988 15.4926 2.50724 16.5 3.74988 16.5H5.24988C6.49252 16.5 7.49988 15.4926 7.49988 14.25V12.75C7.49988 11.5074 6.49252 10.5 5.24988 10.5H3.74988Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.2499 11.55H12.7499C12.0871 11.55 11.5499 12.0873 11.5499 12.75V14.25C11.5499 14.9127 12.0871 15.45 12.7499 15.45H14.2499C14.9126 15.45 15.4499 14.9127 15.4499 14.25V12.75C15.4499 12.0873 14.9126 11.55 14.2499 11.55ZM12.7499 10.5C11.5072 10.5 10.4999 11.5074 10.4999 12.75V14.25C10.4999 15.4926 11.5072 16.5 12.7499 16.5H14.2499C15.4925 16.5 16.4999 15.4926 16.4999 14.25V12.75C16.4999 11.5074 15.4925 10.5 14.2499 10.5H12.7499Z"
                fill="#222222"
              />
            </svg>`,
  },
  {
    path: '/admin/bids',
    title: 'Отклики',
    icon: `<svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M4.28857 3.51416C3.81161 3.36153 3.36154 3.81161 3.51416 4.28856L6.60838 13.958C6.78768 14.5183 7.57534 14.5324 7.77461 13.9789L9.31873 9.68966C9.38094 9.51694 9.51688 9.38093 9.68966 9.31872L13.9789 7.7746C14.5324 7.57534 14.5183 6.78768 13.958 6.60838L4.28857 3.51416ZM2.34083 4.66403C1.88296 3.23317 3.23318 1.88296 4.66403 2.34083L14.3335 5.43505C16.0144 5.97294 16.0567 8.33594 14.3962 8.93374L11.0202 10.1491L15.5696 14.6985C15.8101 14.939 15.8101 15.3291 15.5696 15.5696C15.3291 15.8101 14.939 15.8101 14.6985 15.5696L10.1491 11.0202L8.93374 14.3962C8.33594 16.0568 5.97294 16.0144 5.43504 14.3335L2.34083 4.66403Z"
                fill="#222222"
              />
            </svg>`,
  },

  {
    key: 'messages',
    path: '/admin/appeals',
    title: 'Обращения',
    icon: `<svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M16.4381 1.52184C16.5825 1.65131 16.6437 1.84982 16.5974 2.03813L13.1099 16.2131C13.0595 16.4181 12.8912 16.5729 12.6828 16.6061C12.4744 16.6394 12.2664 16.5447 12.1547 16.3656L8.14372 9.93712L1.73147 7.58048C1.52468 7.50448 1.38734 7.30745 1.38757 7.08714C1.38781 6.86683 1.52558 6.6701 1.73253 6.59454L15.9075 1.41954C16.0897 1.35304 16.2937 1.39237 16.4381 1.52184ZM3.43895 7.08935L8.67493 9.01368C8.78446 9.05394 8.87746 9.12954 8.93924 9.22855L12.3873 14.7549L15.3425 2.74361L3.43895 7.08935Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M16.1213 1.87897C16.3263 2.084 16.3263 2.41641 16.1213 2.62144L8.86506 9.87769C8.66003 10.0827 8.32762 10.0827 8.12259 9.87769C7.91757 9.67266 7.91757 9.34025 8.12259 9.13522L15.3788 1.87897C15.5839 1.67395 15.9163 1.67395 16.1213 1.87897Z"
                fill="#222222"
              />
            </svg>`,
  },
  {
    title: 'Юзеры',
    path: '/admin/users',
    icon: `<svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M1.75 2.8125C1.75 2.53636 1.97386 2.3125 2.25 2.3125H15.75C16.0261 2.3125 16.25 2.53636 16.25 2.8125V12.375C16.25 12.6511 16.0261 12.875 15.75 12.875H11.3625C8.10581 12.875 5.01632 14.0142 2.57747 16.1278C2.42953 16.2561 2.22039 16.2861 2.04231 16.2048C1.86424 16.1235 1.75 15.9458 1.75 15.75V12.3755L2.25 12.375L2.75 12.375V14.7068C5.22856 12.8606 8.22693 11.875 11.3625 11.875H15.25V3.3125H2.75V12.375L2.25 12.375H1.75V2.8125Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.6875 6.75C5.6875 6.47386 5.91136 6.25 6.1875 6.25H9.5625C9.83864 6.25 10.0625 6.47386 10.0625 6.75C10.0625 7.02614 9.83864 7.25 9.5625 7.25H6.1875C5.91136 7.25 5.6875 7.02614 5.6875 6.75Z"
                fill="#222222"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.6875 9C5.6875 8.72386 5.91136 8.5 6.1875 8.5H7.875C8.15114 8.5 8.375 8.72386 8.375 9C8.375 9.27614 8.15114 9.5 7.875 9.5H6.1875C5.91136 9.5 5.6875 9.27614 5.6875 9Z"
                fill="#222222"
              />
            </svg>`,
  },
  {
    title: 'Выплаты',
    path: '/admin/payments',
    icon: ` <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M12.6958 4.13112C12.5599 3.97252 12.3 4.06866 12.3 4.27755V6.75011C12.3 7.45427 11.7292 8.02511 11.025 8.02511H1.275C0.985051 8.02511 0.75 7.79006 0.75 7.50011C0.75 7.21016 0.985051 6.97511 1.275 6.97511H11.025C11.1493 6.97511 11.25 6.87437 11.25 6.75011V4.27755C11.25 3.09383 12.7227 2.54905 13.4931 3.44779L16.6736 7.15844C16.8623 7.37859 16.8368 7.71002 16.6167 7.89872C16.3965 8.08742 16.0651 8.06192 15.8764 7.84178L12.6958 4.13112Z"
                fill="black"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M4.85409 13.8691C4.99004 14.0277 5.24993 13.9316 5.24993 13.7227V11.2501C5.24993 10.546 5.82076 9.97513 6.52493 9.97513H16.2749C16.5649 9.97513 16.7999 10.2102 16.7999 10.5001C16.7999 10.7901 16.5649 11.0251 16.2749 11.0251H6.52493C6.40066 11.0251 6.29993 11.1259 6.29993 11.2501V13.7227C6.29993 14.9064 4.82723 15.4512 4.05687 14.5525L0.876314 10.8418C0.687618 10.6217 0.713114 10.2902 0.933259 10.1015C1.15341 9.91283 1.48484 9.93832 1.67353 10.1585L4.85409 13.8691Z"
                fill="black"
              />
            </svg>`,
  },
  {
    title: 'Диспуты',
    path: '/admin/disputes',
    icon: `<svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M6.40676 16.4303C6.34488 16.4752 6.26951 16.4997 6.19195 16.5002C6.11436 16.5007 6.0387 16.4771 5.97621 16.4329C5.91372 16.3888 5.86774 16.3264 5.84512 16.2552C5.82251 16.1839 5.82447 16.1076 5.85071 16.0375L8.12965 10.281L3.23181 8.51335C3.17133 8.49133 3.11824 8.45396 3.07816 8.40524C3.03808 8.35653 3.01253 8.29827 3.0042 8.23673C2.99461 8.17592 3.00181 8.1138 3.02506 8.05651C3.04831 7.99925 3.08683 7.94882 3.13673 7.91031L11.5927 1.57011C11.6546 1.5252 11.73 1.50068 11.8075 1.5002C11.8851 1.49972 11.9608 1.52331 12.0233 1.56746C12.0857 1.6116 12.1317 1.67394 12.1543 1.7452C12.177 1.81646 12.175 1.89282 12.1488 1.96292L9.86982 7.71944L14.7677 9.48706C14.8281 9.50905 14.8812 9.54642 14.9213 9.59514C14.9614 9.64385 14.9869 9.70211 14.9953 9.76368C15.0058 9.82448 14.999 9.88692 14.9757 9.94434C14.9524 10.0018 14.9133 10.0521 14.8627 10.0901L6.40676 16.4303ZM16.0331 9.60411C16.0724 9.85266 16.043 10.1068 15.9484 10.3396C15.8517 10.5777 15.6923 10.7804 15.4928 10.93L7.03003 17.2753L7.02334 17.2802C6.78132 17.4558 6.49193 17.5484 6.19831 17.5502C5.90484 17.5519 5.61461 17.463 5.3706 17.2907C5.12586 17.1178 4.93793 16.8678 4.84432 16.5728C4.75048 16.2772 4.75879 15.9593 4.86739 15.6693L4.87082 15.6601L6.75486 10.9011L2.87256 9.49999C2.63927 9.41504 2.42904 9.26893 2.2673 9.07233C2.10758 8.87819 2.00175 8.64251 1.96528 8.38898C1.92844 8.1422 1.95895 7.89124 2.05214 7.66165C2.14675 7.42864 2.30132 7.22869 2.49527 7.07903L2.50103 7.07459L10.9694 0.725122L10.976 0.720318C11.2182 0.544538 11.5077 0.452033 11.801 0.450222C12.0946 0.448412 12.3849 0.537386 12.6291 0.709851C12.8738 0.882727 13.0615 1.13255 13.1551 1.42754C13.249 1.7232 13.2407 2.04107 13.1321 2.3311L13.1286 2.34029L11.2446 7.09931L15.1265 8.50028C15.3601 8.58524 15.5704 8.73147 15.7322 8.92805C15.8904 9.12033 15.9957 9.35335 16.0331 9.60411Z"
                fill="black"
              />
            </svg>`,
  },
]);

messagesStore.fetchTotalUnseenCount();
</script>

<style scoped></style>
